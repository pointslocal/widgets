<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Widgets : Widgets Gallery">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script src="javascripts/pointslocal.widgets.js"></script>
    <title>Pointslocal Events Widgets</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">

          <h1 id="project_title"><img src="https://dayton.pointslocal.com/partners/secure/img/logos/pointslocal-logo-admin-small.svg" style="width: 250px;"/></h1>
          <h2 id="project_tagline">Widgets Gallery</h2>


        </header>
    </div>

    <div id="jumbotron_wrap">
      <div class="jumbotron">
          ...
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">


      <section id="main_content" class="inner">
          <h1>Example: Search</h1>
<div class="code">
<pre>
  var w1 = new Pointslocal('#widget-upcoming', {
    site:'sfgate',
    widget: 'search',
    templateSelector: '#widget-search-template'
  });</pre>
</div>

<!-- <option>{{event_category_name}}</option> -->
          <div id="widget-search-preview-template" style="display:none;">
            <div class="plw-item">
                {{#items}}
                  <div class="plw-cell">
                    <div class="plw-cell-item">
                    {{#image_id}}<div><img src="http://sfgate.pointslocal.com/image?method=image.icrop&id={{image_id}}&w=200&h=200&context=event.image" /></div>{{/image_id}}
                  </div>
                  <div class='plw-item-card plw-item-card-mini'><a class="plw-item-title">{{title}}</a> <div>{{date}}, {{start_time}}</div></div>
                  </div>
                {{/items}}
            </div>
          </div>
          <div style="display:none;" id="widget-search-template">
            <div class="plw-search plw-item">
              <div class="plw-cell"><div class="plw-pseudo-drop"><div class="plw-pseudo-drop-inner">What <i>{{{icon:chevron}}}</i></div><div class="plw-pseudo-drop-options"><ul>{{#categories}}<li data-attribute="category_id" data-value="{{event_category_id}}">{{event_category_name}}</li>{{/categories}}</ul></div></div></div>
              <div class="plw-cell"><div class="plw-pseudo-drop"><div class="plw-pseudo-drop-inner">Where <i>{{{icon:chevron}}}</i></div><div class="plw-pseudo-drop-options"><ul>{{#categories}}<li><input type="checkbox"> {{event_category_name}}</li>{{/categories}}</ul></div></div></div>
              <div class="plw-cell"><div class="plw-pseudo-drop"><div class="plw-pseudo-drop-inner">When <i>{{{icon:chevron}}}</i></div><div class="plw-pseudo-drop-options"><ul>{{#categories}}<li><input type="checkbox"> {{event_category_name}}</li>{{/categories}}</ul></div></div></div>
              <div class="plw-cell"><input type="text" class="plw-textbox" placeholder="Search, eg 'Something'"/> <i>{{{icon:microphone}}}</i></div>
              <div class="plw-cell"><a class="plw-button">Search</a></div>
            </div>
            <div class="widget-search-preview"></div>
          </div>
          <div id="widget-search" class="widget">


          </div>
    
      </section>

      <section id="main_content" class="inner">
          <h1>Requirements</h1>
      </section>

      <section id="main_content" class="inner">
          <h1>Example: Upcoming Events</h1>
<div class="code">
<pre>
  var w1 = new Pointslocal('#widget-upcoming', {
    site:'sfgate',
    widget: 'upcoming',
    templateSelector: '#widget-upcoming-template'
  });</pre>
</div>
          <div style="display:none;" id="widget-upcoming-template">
            {{#items}}
              <div class="plw-item">{{#image_id}}<div class="plw-cell"><img src="http://sfgate.pointslocal.com/image?method=image.icrop&id={{image_id}}&w=100&h=100&context=event.image" /></div>{{/image_id}}<div class="plw-cell"><a class="plw-item-title" href="http://sfgate.pointslocal.com/event/{{guid}}">{{title}}</a><div class="plw-item-meta">{{date}}, {{start_time}}</div></div></div>
            {{/items}}
          </div>
          <div id="widget-upcoming" class="widget"></div>
      </section>



      <section id="main_content" class="inner">
          <h1>Example: Curated Events</h1>

<div class="code">
  <pre>
  var w1 = new Pointslocal('#widget-curated', {
    site:'sfgate',
    count: 1,
    widget: 'upcoming',
    tag: 'editorpicks',
    templateSelector: '#widget-curated-template'
  });</pre>
</div>
            <div style="display:none;" id="widget-curated-template">
              {{#items}}
                <div class="plw-item">{{#image_id}}<div class="plw-cell"><div class="plw-ribbon-container"><div class="plw-ribbon pick">EDITOR'S PICK</div></div><img src="http://sfgate.pointslocal.com/image?method=image.icrop&id={{image_id}}&w=100&h=100&context=event.image" /></div>{{/image_id}}<div class="plw-cell"><a class="plw-item-title" href="http://sfgate.pointslocal.com/event/{{guid}}">{{title}}</a><div class="plw-item-meta">{{date}}, {{start_time}}</div><p>{{print_description}}</p></div></div>
              {{/items}}
            </div>
            <div id="widget-curated" class="pointslocal-widget"></div>


      </section>

      <section id="main_content" class="inner">
          <h1>Example: Featured Events</h1>
          <div style="display:none;" id="widget-featured-template">
            {{#items}}
              <div class="plw-item"><div class="plw-ribbon-container"><div class="plw-ribbon">FEATURED</div></div>{{#image_id}}<div class="plw-cell"><img src="http://sfgate.pointslocal.com/image?method=image.icrop&id={{image_id}}&w=400&h=400&context=event.image" style="max-width: 100%;"/></div>{{/image_id}}<div class='plw-item-card'><a class="plw-item-title">{{title}}</a> @ {{venue_name}}<div>{{date}}, {{start_time}}</div></div></div>
            {{/items}}
          </div>
          <div id="widget-featured" class="pointslocal-widget pointslocal-widget-rail"></div>
      </section>
      <section id="main_content" class="inner">
          <h1>Customization</h1>
      </section>

    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Widgets maintained by <a href="https://github.com/pointslocal">pointslocal</a></p>
      </footer>
    </div>
    <script>
      var w1 = new Pointslocal('#widget-upcoming', {
        type: 'events',
        site:'sfgate',
        widget: 'upcoming',
        count: 5,
        templateSelector: '#widget-upcoming-template'
      });

      var w2 = new Pointslocal('#widget-search', {
        type: 'search',
        site:'sfgate',
        count: 1,
        chunk: [{'field': 'categories','groups':10 }],
        templateSelector: '#widget-search-template'
      },
        function(parent) {
          var w2a = new Pointslocal('.widget-search-preview', {
            type: 'events',
            site:'sfgate',
            count: 4,
            templateSelector: '#widget-search-preview-template'
          });
          $(parent.element).find('.plw-pseudo-drop-options li').on('click',function() {
            attr = $(this).attr('data-attribute');
            val = $(this).attr('data-value');
            w2a.opts[attr] = val;
            w2a.get();
            $(parent.element).find('.plw-pseudo-drop-inner').removeClass('active');
          });
        }
      );

      var w3 = new Pointslocal('#widget-curated', {
        type: 'events',
        site:'sfgate',
        count: 1,
        tag: 'editorpicks',
        templateSelector: '#widget-curated-template'
      });

      var w4 = new Pointslocal('#widget-featured', {
        type: 'events',
        site:'sfgate',
        count: 1,
        templateSelector: '#widget-featured-template'
      });
    </script>
    

  </body>
</html>
